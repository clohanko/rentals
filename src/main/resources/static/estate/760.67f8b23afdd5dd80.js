"use strict";(self.webpackChunkestate=self.webpackChunkestate||[]).push([[760],{4760:(J,h,i)=>{i.r(h),i.d(h,{AuthModule:()=>L});var d=i(6895),l=i(3321),o=i(4006),t=i(4650),v=i(8896),Z=i(7252),u=i(1576),g=i(4859),m=i(3546),c=i(7676),y=i(7392),p=i(4144);function b(e,s){1&e&&(t.TgZ(0,"p",10),t._uU(1,"An error occurred"),t.qZA())}function C(e,s){1&e&&(t.TgZ(0,"span",10),t._uU(1,"An error occurred"),t.qZA())}const x=[{title:"Login",path:"login",component:(()=>{class e{constructor(n,r,a,f){this.authService=n,this.fb=r,this.router=a,this.sessionService=f,this.hide=!0,this.onError=!1,this.form=this.fb.group({email:["",[o.kI.required,o.kI.email]],password:["",[o.kI.required,o.kI.min(3)]]})}submit(){this.authService.login(this.form.value).subscribe(r=>{localStorage.setItem("token",r.token),this.authService.me().subscribe(a=>{this.sessionService.logIn(a),this.router.navigate(["/rentals"])}),this.router.navigate(["/rentals"])},r=>this.onError=!0)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(v.e),t.Y36(o.qu),t.Y36(l.F0),t.Y36(Z.m))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-login"]],decls:17,vars:7,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"login"],["fxLayoutAlign","center center"],[1,"login-form",3,"formGroup","ngSubmit"],["fxLayout","column"],["fxFlex",""],["matInput","","placeholder","Email","formControlName","email"],["matInput","","placeholder","Password","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["class","error",4,"ngIf"],[1,"error"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"mat-card")(2,"mat-card-header",1)(3,"mat-card-title"),t._uU(4,"Login"),t.qZA()(),t.TgZ(5,"form",2),t.NdJ("ngSubmit",function(){return r.submit()}),t.TgZ(6,"mat-card-content",3)(7,"mat-form-field",4),t._UZ(8,"input",5),t.qZA(),t.TgZ(9,"mat-form-field",4),t._UZ(10,"input",6),t.TgZ(11,"button",7),t.NdJ("click",function(){return r.hide=!r.hide}),t.TgZ(12,"mat-icon"),t._uU(13),t.qZA()()()(),t.TgZ(14,"button",8),t._uU(15,"Submit"),t.qZA(),t.YNc(16,b,2,0,"p",9),t.qZA()()()),2&n&&(t.xp6(5),t.Q6J("formGroup",r.form),t.xp6(5),t.Q6J("type",r.hide?"password":"text"),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",r.hide),t.xp6(2),t.Oqu(r.hide?"visibility_off":"visibility"),t.xp6(1),t.Q6J("disabled",r.form.invalid),t.xp6(2),t.Q6J("ngIf",r.onError))},dependencies:[d.O5,u.xw,u.Wh,u.yH,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,g.lW,m.a8,m.dk,m.dn,m.n5,c.KE,c.R9,y.Hw,p.Nt],styles:[".login[_ngcontent-%COMP%]{margin-top:30px}.login[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{margin:20px;max-width:600px;width:100%}"]}),e})()},{title:"Register",path:"register",component:(()=>{class e{constructor(n,r,a,f){this.authService=n,this.fb=r,this.router=a,this.sessionService=f,this.onError=!1,this.form=this.fb.group({email:["",[o.kI.required,o.kI.email]],name:["",[o.kI.required,o.kI.min(3)]],password:["",[o.kI.required,o.kI.min(3)]]})}submit(){this.authService.register(this.form.value).subscribe(r=>{localStorage.setItem("token",r.token),this.authService.me().subscribe(a=>{this.sessionService.logIn(a),this.router.navigate(["/rentals"])})},r=>this.onError=!0)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(v.e),t.Y36(o.qu),t.Y36(l.F0),t.Y36(Z.m))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-register"]],decls:16,vars:3,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"register"],["fxLayoutAlign","center center"],[1,"register-form",3,"formGroup","ngSubmit"],["fxLayout","column"],["fxFlex",""],["matInput","","placeholder","Name","formControlName","name"],["matInput","","placeholder","Email","formControlName","email"],["matInput","","placeholder","Password","formControlName","password"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["class","error",4,"ngIf"],[1,"error"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"mat-card")(2,"mat-card-header",1)(3,"mat-card-title"),t._uU(4,"Register"),t.qZA()(),t.TgZ(5,"form",2),t.NdJ("ngSubmit",function(){return r.submit()}),t.TgZ(6,"mat-card-content",3)(7,"mat-form-field",4),t._UZ(8,"input",5),t.qZA(),t.TgZ(9,"mat-form-field",4),t._UZ(10,"input",6),t.qZA(),t.TgZ(11,"mat-form-field",4),t._UZ(12,"input",7),t.qZA()(),t.TgZ(13,"button",8),t._uU(14,"Submit"),t.qZA(),t.YNc(15,C,2,0,"span",9),t.qZA()()()),2&n&&(t.xp6(5),t.Q6J("formGroup",r.form),t.xp6(8),t.Q6J("disabled",r.form.invalid),t.xp6(2),t.Q6J("ngIf",r.onError))},dependencies:[d.O5,u.xw,u.Wh,u.yH,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,g.lW,m.a8,m.dk,m.dn,m.n5,c.KE,p.Nt],styles:[".register[_ngcontent-%COMP%]{margin-top:30px}.register[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{margin:20px;max-width:600px;width:100%}"]}),e})()}];let I=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.Bz.forChild(x),l.Bz]}),e})();var S=i(5823);const T=[g.ot,m.QW,c.lN,y.Ps,p.c];let L=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[I,d.ez,S.o9,o.u5,o.UX,T]}),e})()}}]);